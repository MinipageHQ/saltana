(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{1767:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_reactDom2=_interopRequireDefault(__webpack_require__(36)),_propTypes2=_interopRequireDefault(__webpack_require__(6)),Card=function(_Component){function Card(){var _this=this;_classCallCheck(this,Card),_get(Object.getPrototypeOf(Card.prototype),"constructor",this).apply(this,arguments),this.state={hover:!1,transition:"opacity",width:0,height:0},this.margin=15,this.defaultArrowStyle={color:"#fff",borderColor:"rgba(0,0,0,.4)"},this.rootRef=_react2.default.createRef(),this.handleMouseEnter=function(){_this.props.active&&_this.props.useHover&&_this.setState({hover:!0})},this.handleMouseLeave=function(){_this.setState({hover:!1})}}return _inherits(Card,_Component),_createClass(Card,[{key:"getGlobalStyle",value:function getGlobalStyle(){if(!this.props.parentEl)return{display:"none"};var style=_extends({position:"absolute",padding:"5px",background:"#fff",boxShadow:"0 0 8px rgba(0,0,0,.3)",borderRadius:"3px",transition:this.state.transition+" .3s ease-in-out, visibility .3s ease-in-out",opacity:this.state.hover||this.props.active?1:0,visibility:this.state.hover||this.props.active?"visible":"hidden",zIndex:50},this.getStyle(this.props.position,this.props.arrow));return this.mergeStyle(style,this.props.style.style)}},{key:"getBaseArrowStyle",value:function getBaseArrowStyle(){return{position:"absolute",content:'""',transition:"all .3s ease-in-out"}}},{key:"getArrowStyle",value:function getArrowStyle(){var fgStyle=this.getBaseArrowStyle(),bgStyle=this.getBaseArrowStyle();fgStyle.zIndex=60,bgStyle.zIndex=55;var arrowStyle=_extends({},this.defaultArrowStyle,this.props.style.arrowStyle),bgBorderColor=arrowStyle.borderColor?arrowStyle.borderColor:"transparent",fgColorBorder="10px solid "+arrowStyle.color,fgTransBorder="8px solid transparent",bgColorBorder="11px solid "+bgBorderColor,bgTransBorder="9px solid transparent",_props=this.props,position=_props.position,arrow=_props.arrow;"left"===position||"right"===position?(fgStyle.top="50%",fgStyle.borderTop=fgTransBorder,fgStyle.borderBottom=fgTransBorder,fgStyle.marginTop=-7,bgStyle.borderTop=bgTransBorder,bgStyle.borderBottom=bgTransBorder,bgStyle.top="50%",bgStyle.marginTop=-8,"left"===position?(fgStyle.right=-10,fgStyle.borderLeft=fgColorBorder,bgStyle.right=-11,bgStyle.borderLeft=bgColorBorder):(fgStyle.left=-10,fgStyle.borderRight=fgColorBorder,bgStyle.left=-11,bgStyle.borderRight=bgColorBorder),"top"===arrow&&(fgStyle.top=this.margin,bgStyle.top=this.margin),"bottom"===arrow&&(fgStyle.top=null,fgStyle.bottom=this.margin-7,bgStyle.top=null,bgStyle.bottom=this.margin-8)):(fgStyle.left=Math.round(this.state.width/2-8),fgStyle.borderLeft=fgTransBorder,fgStyle.borderRight=fgTransBorder,fgStyle.marginLeft=0,bgStyle.left=fgStyle.left-1,bgStyle.borderLeft=bgTransBorder,bgStyle.borderRight=bgTransBorder,bgStyle.marginLeft=0,"top"===position?(fgStyle.bottom=-10,fgStyle.borderTop=fgColorBorder,bgStyle.bottom=-11,bgStyle.borderTop=bgColorBorder):(fgStyle.top=-10,fgStyle.borderBottom=fgColorBorder,bgStyle.top=-11,bgStyle.borderBottom=bgColorBorder),"right"===arrow&&(fgStyle.left=null,fgStyle.right=this.margin+1-8,bgStyle.left=null,bgStyle.right=this.margin-8),"left"===arrow&&(fgStyle.left=this.margin+1-8,bgStyle.left=this.margin-8));var _props$style$arrowStyle=this.props.style.arrowStyle,propsArrowStyle=(_props$style$arrowStyle.color,_props$style$arrowStyle.borderColor,_objectWithoutProperties(_props$style$arrowStyle,["color","borderColor"]));return{fgStyle:this.mergeStyle(fgStyle,propsArrowStyle),bgStyle:this.mergeStyle(bgStyle,propsArrowStyle)}}},{key:"mergeStyle",value:function mergeStyle(style,theme){if(theme){theme.position,theme.top,theme.left,theme.right,theme.bottom,theme.marginLeft,theme.marginRight;var validTheme=_objectWithoutProperties(theme,["position","top","left","right","bottom","marginLeft","marginRight"]);return _extends({},style,validTheme)}return style}},{key:"getStyle",value:function getStyle(position,arrow){var _this2=this,alignOffset=0,parent=this.props.parentEl,align=this.props.align,tooltipPosition=parent.getBoundingClientRect(),scrollY=void 0!==window.scrollY?window.scrollY:window.pageYOffset,scrollX=void 0!==window.scrollX?window.scrollX:window.pageXOffset,_top=scrollY+tooltipPosition.top,_left=scrollX+tooltipPosition.left,style={},parentSize={width:parent.offsetWidth,height:parent.offsetHeight};!parent.offsetHeight&&parent.getBoundingClientRect&&(parentSize.width=parent.getBoundingClientRect().width,parentSize.height=parent.getBoundingClientRect().height),"left"===align?alignOffset=-parentSize.width/2+8:"right"===align&&(alignOffset=parentSize.width/2-8);var stylesFromArrow={left:function left(){style.left=_left+parentSize.width/2-_this2.margin+alignOffset},right:function right(){style.left=_left-_this2.state.width+parentSize.width/2+_this2.margin+alignOffset},top:function top(){style.top=_top+parentSize.height/2-_this2.margin},bottom:function bottom(){style.top=_top+parentSize.height/2-_this2.state.height+_this2.margin}};return executeFunctionIfExist({left:function left(){style.top=_top+parentSize.height/2-_this2.state.height/2,style.left=_left-_this2.state.width-_this2.margin},right:function right(){style.top=_top+parentSize.height/2-_this2.state.height/2,style.left=_left+parentSize.width+_this2.margin},top:function top(){style.left=_left-_this2.state.width/2+parentSize.width/2+alignOffset,style.top=_top-_this2.state.height-_this2.margin},bottom:function bottom(){style.left=_left-_this2.state.width/2+parentSize.width/2+alignOffset,style.top=_top+parentSize.height+_this2.margin}},position),executeFunctionIfExist(stylesFromArrow,arrow),style}},{key:"checkWindowPosition",value:function checkWindowPosition(style,arrowStyle){if("top"===this.props.position||"bottom"===this.props.position)if(style.left<0){if(this.props.parentEl){var tooltipWidth=this.state.width,bgStyleRight=arrowStyle.bgStyle.right;bgStyleRight||(bgStyleRight=tooltipWidth/2-9);var newBgRight=Math.round(bgStyleRight-style.left+this.margin);arrowStyle=_extends({},arrowStyle,{bgStyle:_extends({},arrowStyle.bgStyle,{right:newBgRight,left:null}),fgStyle:_extends({},arrowStyle.fgStyle,{right:newBgRight+1,left:null})})}style.left=this.margin}else{if(style.left+this.state.width-window.innerWidth>0){var originalLeft=style.left;style.left=window.innerWidth-this.state.width-this.margin,arrowStyle.fgStyle.marginLeft+=originalLeft-style.left,arrowStyle.bgStyle.marginLeft+=originalLeft-style.left}}return{style:style,arrowStyle:arrowStyle}}},{key:"componentDidMount",value:function componentDidMount(){this.updateSize()}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){this.props!==prevProps&&this.updateSize()}},{key:"updateSize",value:function updateSize(){var newWidth=this.rootRef.current.offsetWidth,newHeight=this.rootRef.current.offsetHeight;newWidth===this.state.width&&newHeight===this.state.height||this.setState({width:newWidth,height:newHeight})}},{key:"render",value:function render(){var _checkWindowPosition=this.checkWindowPosition(this.getGlobalStyle(),this.getArrowStyle()),style=_checkWindowPosition.style,arrowStyle=_checkWindowPosition.arrowStyle;return _react2.default.createElement("div",{style:style,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,ref:this.rootRef},this.props.arrow?_react2.default.createElement("div",null,_react2.default.createElement("span",{style:arrowStyle.fgStyle}),_react2.default.createElement("span",{style:arrowStyle.bgStyle})):null,this.props.children)}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(props,state){return{transition:state.hover||props.active?"all":"opacity"}}},{key:"propTypes",value:{active:_propTypes2.default.bool,position:_propTypes2.default.oneOf(["top","right","bottom","left"]),arrow:_propTypes2.default.oneOf([null,"center","top","right","bottom","left"]),align:_propTypes2.default.oneOf([null,"center","right","left"]),style:_propTypes2.default.object,useHover:_propTypes2.default.bool},enumerable:!0},{key:"defaultProps",value:{active:!1,position:"right",arrow:null,align:null,style:{style:{},arrowStyle:{}},useHover:!0},enumerable:!0}]),Card}(_react.Component),portalNodes={},ToolTip=function(_Component2){function ToolTip(){_classCallCheck(this,ToolTip),_get(Object.getPrototypeOf(ToolTip.prototype),"constructor",this).apply(this,arguments)}return _inherits(ToolTip,_Component2),_createClass(ToolTip,[{key:"createPortal",value:function createPortal(){portalNodes[this.props.group]={node:document.createElement("div"),timeout:!1},portalNodes[this.props.group].node.className="ToolTipPortal",document.body.appendChild(portalNodes[this.props.group].node)}},{key:"renderPortal",value:function renderPortal(props){portalNodes[this.props.group]||this.createPortal();var parent=props.parent,other=_objectWithoutProperties(props,["parent"]),parentEl="string"==typeof parent?document.querySelector(parent):parent;_reactDom2.default.render(_react2.default.createElement(Card,_extends({parentEl:parentEl},other)),portalNodes[this.props.group].node)}},{key:"componentDidMount",value:function componentDidMount(){this.props.active&&this.renderPortal(this.props)}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(nextProps){var _this3=this;if((portalNodes[this.props.group]||nextProps.active)&&(this.props.active||nextProps.active)){var props=_extends({},nextProps),newProps=_extends({},nextProps);portalNodes[this.props.group]&&portalNodes[this.props.group].timeout&&clearTimeout(portalNodes[this.props.group].timeout),this.props.active&&!props.active&&(newProps.active=!0,portalNodes[this.props.group].timeout=setTimeout((function(){props.active=!1,_this3.renderPortal(props)}),this.props.tooltipTimeout)),this.renderPortal(newProps)}}},{key:"componentWillUnmount",value:function componentWillUnmount(){if(portalNodes[this.props.group]){_reactDom2.default.unmountComponentAtNode(portalNodes[this.props.group].node),clearTimeout(portalNodes[this.props.group].timeout);try{document.body.removeChild(portalNodes[this.props.group].node)}catch(e){}portalNodes[this.props.group]=null}}},{key:"render",value:function render(){return null}}],[{key:"propTypes",value:{parent:_propTypes2.default.oneOfType([_propTypes2.default.string,_propTypes2.default.object]).isRequired,active:_propTypes2.default.bool,group:_propTypes2.default.string,tooltipTimeout:_propTypes2.default.number},enumerable:!0},{key:"defaultProps",value:{active:!1,group:"main",tooltipTimeout:500},enumerable:!0}]),ToolTip}(_react.Component);exports.default=ToolTip;var executeFunctionIfExist=function executeFunctionIfExist(object,key){Object.prototype.hasOwnProperty.call(object,key)&&object[key]()},StatefulToolTip=function(_Component3){function StatefulToolTip(){var _this4=this;_classCallCheck(this,StatefulToolTip),_get(Object.getPrototypeOf(StatefulToolTip.prototype),"constructor",this).apply(this,arguments),this.state={tooltipVisible:!1},this.onMouseEnter=function(){_this4.setState({tooltipVisible:!0})},this.onMouseLeave=function(){_this4.setState({tooltipVisible:!1})}}return _inherits(StatefulToolTip,_Component3),_createClass(StatefulToolTip,[{key:"render",value:function render(){var _this5=this,_props2=this.props,className=(_props2.children,_props2.className),props=(_props2.parent,_objectWithoutProperties(_props2,["children","className","parent"]));return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement("span",{className:className,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,ref:function(p){return _this5.parent=p},key:"parent"},this.props.parent),this.parent?_react2.default.createElement(ToolTip,_extends({},props,{active:this.state.tooltipVisible,parent:this.parent,key:"tooltip"}),this.props.children):null)}}],[{key:"propTypes",value:{className:_propTypes2.default.string},enumerable:!0},{key:"defaultProps",value:{className:""},enumerable:!0}]),StatefulToolTip}(_react.Component);exports.StatefulToolTip=StatefulToolTip}}]);